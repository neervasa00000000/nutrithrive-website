<!DOCTYPE html>
<html>
<head>
    <title>PayPal SDK Test</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        .success { color: green; }
        .error { color: red; }
        pre { background: #f5f5f5; padding: 10px; border-radius: 5px; }
    </style>
</head>
<body>
    <h1>PayPal SDK Loading Test</h1>
    <div id="status">Loading...</div>
    <pre id="details"></pre>
    
    <script>
        const statusEl = document.getElementById('status');
        const detailsEl = document.getElementById('details');
        
        const CLIENT_ID = 'AWtclBnz1gQWQne-vS-OnExG1-Rl7Tj01nE8J1j7aZsLItOJvecwRVCpG757OrJ3QCf65w7q9i2bSgVi';
        
        detailsEl.textContent = `Testing Client ID: ${CLIENT_ID}\n\n`;
        
        // Test 1: Load SDK with buttons only
        const script = document.createElement('script');
        script.src = `https://www.paypal.com/sdk/js?client-id=${CLIENT_ID}&currency=AUD&components=buttons`;
        
        script.onload = function() {
            detailsEl.textContent += '✅ SDK Script loaded successfully\n';
            
            setTimeout(() => {
                if (typeof paypal !== 'undefined') {
                    detailsEl.textContent += '✅ paypal object is defined\n';
                    detailsEl.textContent += `Available properties: ${Object.keys(paypal).join(', ')}\n`;
                    
                    if (paypal.Buttons) {
                        detailsEl.textContent += '✅ paypal.Buttons is available\n';
                        statusEl.innerHTML = '<span class="success">✅ SUCCESS: PayPal SDK loaded correctly!</span>';
                    } else {
                        detailsEl.textContent += '❌ paypal.Buttons is NOT available\n';
                        statusEl.innerHTML = '<span class="error">❌ ERROR: Buttons component missing</span>';
                    }
                    
                    if (paypal.CardFields) {
                        detailsEl.textContent += '✅ paypal.CardFields is available\n';
                    } else {
                        detailsEl.textContent += '⚠️ paypal.CardFields is NOT available (requires approval)\n';
                    }
                } else {
                    detailsEl.textContent += '❌ paypal object is still undefined after load\n';
                    statusEl.innerHTML = '<span class="error">❌ ERROR: SDK loaded but paypal object not available</span>';
                }
            }, 500);
        };
        
        script.onerror = function() {
            detailsEl.textContent += '❌ SDK Script failed to load\n';
            detailsEl.textContent += 'This could mean:\n';
            detailsEl.textContent += '1. Invalid Client ID\n';
            detailsEl.textContent += '2. Network/CORS issue\n';
            detailsEl.textContent += '3. PayPal servers are down\n';
            statusEl.innerHTML = '<span class="error">❌ ERROR: SDK script failed to load</span>';
        };
        
        document.head.appendChild(script);
    </script>
</body>
</html>
