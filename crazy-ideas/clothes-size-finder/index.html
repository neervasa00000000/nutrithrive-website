<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Universal Clothes Size Converter - Find Your Perfect Size</title>
  <link rel="icon" type="image/png" href="https://i.imgur.com/bZubhoR.png">
  <link rel="apple-touch-icon" href="https://i.imgur.com/bZubhoR.png">
  <link rel="shortcut icon" href="https://i.imgur.com/bZubhoR.png">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    :root {
      --primary: #FFD6BA;
      --primary-dark: #FFE8CD;
      --secondary: #FFF2EB;
      --accent: #FFDCDC;
      --bg: #FFF2EB;
      --card: #ffffff;
      --text: #2d3748;
      --text-light: #718096;
      --border: #FFE8CD;
      --success: #48bb78;
      --warning: #ed8936;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
      background: #FFF2EB;
      min-height: 100vh;
      padding: 2em 1em;
      color: var(--text);
      line-height: 1.6;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
      background: var(--card);
      border-radius: 24px;
      border: 2px solid #FFE8CD;
      overflow: hidden;
    }

    .header {
      background: #FFD6BA;
      color: #2d3748;
      padding: 3.5em 2em;
      text-align: center;
    }

    h1 {
      font-size: clamp(2rem, 5vw, 3rem);
      margin-bottom: 0.5em;
      font-weight: 700;
      position: relative;
      z-index: 1;
    }

    .subtitle {
      font-size: clamp(1rem, 2vw, 1.3rem);
      opacity: 0.95;
      position: relative;
      z-index: 1;
    }

    .content {
      padding: 3em 2em;
    }

    .tabs {
      display: flex;
      gap: 0.75em;
      margin-bottom: 3em;
      flex-wrap: wrap;
    }

    .tab {
      flex: 1;
      min-width: 160px;
      padding: 1.2em 1.8em;
      background: var(--card);
      border: 2px solid transparent;
      font-size: 1em;
      font-weight: 600;
      cursor: pointer;
      color: var(--text-light);
      border-radius: 12px;
      transition: all 0.3s ease;
      position: relative;
    }

    .tab:hover:not(.active) {
      background: white;
      color: #FFD6BA;
      border-color: #FFE8CD;
    }

    .tab.active {
      background: #FFD6BA;
      color: #2d3748;
      border-color: #FFD6BA;
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
      animation: fadeIn 0.4s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .input-section {
      padding: 2em 0;
      margin-bottom: 3em;
    }

    .section-title {
      font-size: 1.75em;
      color: var(--text);
      margin-bottom: 2em;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 0.5em;
    }

    .input-toggle {
      display: flex;
      gap: 1em;
      margin-bottom: 2.5em;
    }

    .toggle-btn {
      flex: 1;
      padding: 1em 1.5em;
      background: white;
      border: 2px solid #FFE8CD;
      border-radius: 10px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      color: var(--text-light);
      font-size: 0.95em;
    }

    .toggle-btn:hover {
      border-color: #FFD6BA;
      color: #FFD6BA;
    }

    .toggle-btn.active {
      background: #FFD6BA;
      color: #2d3748;
      border-color: #FFD6BA;
    }

    .input-method {
      margin-top: 2em;
    }

    .input-group {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 1.5em;
    }

    .input-box {
      transition: all 0.3s ease;
    }

    .input-box:focus-within label {
      color: #FFD6BA;
    }

    label {
      display: block;
      font-weight: 600;
      margin-bottom: 0.8em;
      color: var(--text);
      font-size: 0.95em;
    }

    input, select {
      width: 100%;
      padding: 1em;
      border: 2px solid #FFE8CD;
      border-radius: 10px;
      font-size: 1em;
      transition: all 0.3s ease;
      background: white;
      color: var(--text);
    }

    input:focus, select:focus {
      outline: none;
      border-color: #FFD6BA;
    }

    .size-selector {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(90px, 1fr));
      gap: 1em;
      margin-top: 1em;
    }

    .size-option {
      padding: 1.2em;
      border: 2px solid #FFE8CD;
      border-radius: 12px;
      text-align: center;
      cursor: pointer;
      font-weight: 700;
      font-size: 1.1em;
      transition: all 0.3s ease;
      background: white;
      color: var(--text);
    }

    .size-option:hover {
      border-color: #FFD6BA;
      background: #FFF2EB;
    }

    .size-option.selected {
      background: #FFD6BA;
      color: #2d3748;
      border-color: #FFD6BA;
    }

    .convert-btn {
      width: 100%;
      padding: 1.5em;
      background: #FFD6BA;
      color: #2d3748;
      border: 2px solid #FFD6BA;
      border-radius: 14px;
      font-size: 1.2em;
      font-weight: 700;
      cursor: pointer;
      margin-top: 2em;
      transition: all 0.3s ease;
    }

    .convert-btn:hover {
      background: #FFE8CD;
      border-color: #FFE8CD;
    }

    .results {
      display: none;
    }

    .results.show {
      display: block;
      animation: fadeIn 0.5s ease;
    }

    .result-header {
      text-align: center;
      margin-bottom: 3em;
      padding: 2em 0;
    }

    .result-header h2 {
      font-size: 2em;
      color: var(--text);
      margin-bottom: 1em;
      font-weight: 700;
    }

    .your-size {
      display: inline-block;
      padding: 0.8em 2em;
      background: #FFD6BA;
      color: #2d3748;
      border-radius: 50px;
      font-size: 2em;
      font-weight: 700;
      border: 2px solid #FFD6BA;
    }

    .brand-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 2em;
      margin-bottom: 3em;
    }

    .brand-card {
      background: white;
      border: 2px solid #FFE8CD;
      border-radius: 18px;
      padding: 2em;
      transition: all 0.3s ease;
    }

    .brand-card:hover {
      border-color: #FFD6BA;
      background: #FFF2EB;
    }

    .brand-name {
      font-size: 1.4em;
      font-weight: 700;
      color: var(--text);
      margin-bottom: 1em;
    }

    .size-display {
      font-size: 3em;
      font-weight: 700;
      color: #FFD6BA;
      margin: 0.5em 0;
    }

    .size-details {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 1em;
      margin-top: 1.5em;
      padding-top: 1.5em;
      border-top: 2px solid var(--border);
    }

    .size-detail {
      background: #FFF2EB;
      padding: 0.8em;
      border-radius: 10px;
      text-align: center;
    }

    .size-label {
      font-size: 0.75em;
      color: var(--text-light);
      text-transform: uppercase;
      font-weight: 700;
      letter-spacing: 0.5px;
    }

    .size-value {
      font-size: 1.2em;
      font-weight: 700;
      color: var(--text);
      margin-top: 0.3em;
    }

    .note {
      background: #FFE8CD;
      padding: 2em;
      border-radius: 16px;
      margin-top: 3em;
      border-left: 6px solid #FFD6BA;
      color: #2d3748;
      font-size: 1.05em;
      line-height: 1.8;
    }

    .note strong {
      color: #2d3748;
      font-weight: 700;
    }

    .measurement-guide {
      background: #FFF2EB;
      padding: 2em;
      border-radius: 16px;
      margin-top: 2em;
      border: 2px solid #FFE8CD;
    }

    .measurement-guide h3 {
      font-size: 1.3em;
      margin-bottom: 1em;
      color: var(--text);
      font-weight: 700;
    }

    .measurement-guide ul {
      list-style: none;
      padding-left: 0;
    }

    .measurement-guide li {
      padding: 0.8em 0;
      padding-left: 2em;
      position: relative;
      color: var(--text-light);
    }

    .measurement-guide li::before {
      content: '‚úì';
      position: absolute;
      left: 0;
      color: var(--success);
      font-weight: 700;
    }

    @media (max-width: 768px) {
      .size-selector {
        grid-template-columns: repeat(4, 1fr);
      }
      .brand-grid {
        grid-template-columns: 1fr;
      }
      .content {
        padding: 2em 1em;
      }
      .input-section {
        padding: 2em 1.5em;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>üëî Universal Size Converter</h1>
      <p class="subtitle">Find your perfect size across all brands and countries</p>
    </div>

    <div class="content">
      <div class="tabs">
        <button class="tab active" onclick="switchTab('womens')">üëó Women's Clothing</button>
        <button class="tab" onclick="switchTab('mens')">üëî Men's Clothing</button>
        <button class="tab" onclick="switchTab('shoes')">üëü Shoes</button>
      </div>

      <!-- WOMEN'S SECTION -->
      <div id="womens" class="tab-content active">
        <div class="input-section">
          <div class="section-title">What are you shopping for?</div>

          <div class="input-toggle" style="margin-bottom: 1em;">
            <button class="toggle-btn active" onclick="toggleWearType('women', 'top')" id="womenTopBtn">üëï Top Wear (T-shirts, Blouses)</button>
            <button class="toggle-btn" onclick="toggleWearType('women', 'bottom')" id="womenBottomBtn">üëñ Bottom Wear (Pants, Jeans)</button>
          </div>

          <div id="womenTopSection">
            <div class="section-title" style="margin-top: 1em;">How would you like to find your size?</div>
            <div class="input-toggle">
              <button class="toggle-btn active" onclick="toggleInput('women', 'letter')">By Letter Size (XS, S, M, L, XL)</button>
              <button class="toggle-btn" onclick="toggleInput('women', 'measurements')">By Measurements (cm)</button>
            </div>
          </div>

          <div id="womenBottomSection" style="display:none;">
            <div class="section-title" style="margin-top: 1em;">Enter Your Waist Size</div>
            <div class="input-group">
              <div class="input-box" style="max-width: 300px; margin: 0 auto;">
                <label>Waist Size (inches):</label>
                <input type="number" id="womenWaistInches" placeholder="e.g., 28" min="20" max="50" step="0.5">
              </div>
            </div>
            <div class="measurement-guide">
              <h3>üìè How to Measure:</h3>
              <ul>
                <li><strong>Waist:</strong> Measure around your natural waistline (usually 1-2 inches above your belly button)</li>
                <li>For pants/jeans, measure where you want the waistband to sit</li>
              </ul>
            </div>
          </div>

          <div id="womenLetter" class="input-method">
            <label>Select Your Current Size:</label>
            <div class="size-selector">
              <div class="size-option" onclick="selectSize(this, 'women', 'XXS')">XXS</div>
              <div class="size-option" onclick="selectSize(this, 'women', 'XS')">XS</div>
              <div class="size-option" onclick="selectSize(this, 'women', 'S')">S</div>
              <div class="size-option" onclick="selectSize(this, 'women', 'M')">M</div>
              <div class="size-option" onclick="selectSize(this, 'women', 'L')">L</div>
              <div class="size-option" onclick="selectSize(this, 'women', 'XL')">XL</div>
              <div class="size-option" onclick="selectSize(this, 'women', 'XXL')">XXL</div>
              <div class="size-option" onclick="selectSize(this, 'women', '3XL')">3XL</div>
            </div>
            <input type="hidden" id="womenSelectedSize">
          </div>

          <div id="womenMeasurements" class="input-method" style="display:none;">
            <div class="input-group">
              <div class="input-box">
                <label>Bust (cm):</label>
                <input type="number" id="womenBust" placeholder="e.g., 88" min="60" max="150">
              </div>
              <div class="input-box">
                <label>Waist (cm):</label>
                <input type="number" id="womenWaist" placeholder="e.g., 68" min="50" max="150">
              </div>
              <div class="input-box">
                <label>Hips (cm):</label>
                <input type="number" id="womenHips" placeholder="e.g., 93" min="60" max="150">
              </div>
            </div>
            <div class="measurement-guide">
              <h3>üìè How to Measure:</h3>
              <ul>
                <li><strong>Bust:</strong> Measure around the fullest part of your chest</li>
                <li><strong>Waist:</strong> Measure around your natural waistline (smallest part)</li>
                <li><strong>Hips:</strong> Measure around the fullest part of your hips</li>
              </ul>
            </div>
          </div>

          <button class="convert-btn" onclick="convertWomens()">üîç Find My Size Everywhere</button>
        </div>
        <div id="womensResults" class="results"></div>
      </div>

      <!-- MEN'S SECTION -->
      <div id="mens" class="tab-content">
        <div class="input-section">
          <div class="section-title">What are you shopping for?</div>

          <div class="input-toggle" style="margin-bottom: 1em;">
            <button class="toggle-btn active" onclick="toggleWearType('men', 'top')" id="menTopBtn">üëï Top Wear (T-shirts, Shirts)</button>
            <button class="toggle-btn" onclick="toggleWearType('men', 'bottom')" id="menBottomBtn">üëñ Bottom Wear (Pants, Jeans)</button>
          </div>

          <div id="menTopSection">
            <div class="section-title" style="margin-top: 1em;">How would you like to find your size?</div>
            <div class="input-toggle">
              <button class="toggle-btn active" onclick="toggleInput('men', 'letter')">By Letter Size (XS, S, M, L, XL)</button>
              <button class="toggle-btn" onclick="toggleInput('men', 'measurements')">By Measurements (cm)</button>
            </div>
          </div>

          <div id="menBottomSection" style="display:none;">
            <div class="section-title" style="margin-top: 1em;">Enter Your Waist Size</div>
            <div class="input-group">
              <div class="input-box" style="max-width: 300px; margin: 0 auto;">
                <label>Waist Size (inches):</label>
                <input type="number" id="menWaistInches" placeholder="e.g., 30" min="24" max="50" step="0.5">
              </div>
            </div>
            <div class="measurement-guide">
              <h3>üìè How to Measure:</h3>
              <ul>
                <li><strong>Waist:</strong> Measure around your natural waistline (usually at belly button level)</li>
                <li>For pants/jeans, measure where you want the waistband to sit</li>
              </ul>
            </div>
          </div>

          <div id="menLetter" class="input-method">
            <label>Select Your Current Size:</label>
            <div class="size-selector">
              <div class="size-option" onclick="selectSize(this, 'men', 'XS')">XS</div>
              <div class="size-option" onclick="selectSize(this, 'men', 'S')">S</div>
              <div class="size-option" onclick="selectSize(this, 'men', 'M')">M</div>
              <div class="size-option" onclick="selectSize(this, 'men', 'L')">L</div>
              <div class="size-option" onclick="selectSize(this, 'men', 'XL')">XL</div>
              <div class="size-option" onclick="selectSize(this, 'men', 'XXL')">XXL</div>
              <div class="size-option" onclick="selectSize(this, 'men', '3XL')">3XL</div>
              <div class="size-option" onclick="selectSize(this, 'men', '4XL')">4XL</div>
            </div>
            <input type="hidden" id="menSelectedSize">
          </div>

          <div id="menMeasurements" class="input-method" style="display:none;">
            <div class="input-group">
              <div class="input-box">
                <label>Chest (cm):</label>
                <input type="number" id="menChest" placeholder="e.g., 96" min="70" max="160">
              </div>
              <div class="input-box">
                <label>Waist (cm):</label>
                <input type="number" id="menWaist" placeholder="e.g., 81" min="60" max="150">
              </div>
            </div>
            <div class="measurement-guide">
              <h3>üìè How to Measure:</h3>
              <ul>
                <li><strong>Chest:</strong> Measure around the fullest part of your chest, under your arms</li>
                <li><strong>Waist:</strong> Measure around your natural waistline (usually at belly button level)</li>
              </ul>
            </div>
          </div>

          <button class="convert-btn" onclick="convertMens()" id="menConvertBtn">üîç Find My Size Everywhere</button>
          <button class="convert-btn" onclick="convertMensBottom()" id="menBottomConvertBtn" style="display:none;">üîç Find My Pant Size</button>
        </div>
        <div id="mensResults" class="results"></div>
      </div>

      <!-- SHOES SECTION -->
      <div id="shoes" class="tab-content">
        <div class="input-section">
          <div class="section-title">Enter Your Shoe Information</div>
          <div class="input-group">
            <div class="input-box">
              <label>Gender:</label>
              <select id="shoeGender">
                <option>Women's</option>
                <option>Men's</option>
              </select>
            </div>
            <div class="input-box">
              <label>Your Size:</label>
              <input type="number" step="0.5" id="shoeSize" placeholder="e.g., 7" min="1" max="20">
            </div>
            <div class="input-box">
              <label>Size System:</label>
              <select id="shoeSystem">
                <option value="us">US</option>
                <option value="uk">UK</option>
                <option value="eu">EU</option>
                <option value="au">AU</option>
              </select>
            </div>
          </div>
          <button class="convert-btn" onclick="convertShoes()">üîç Convert Shoe Size</button>
        </div>
        <div id="shoesResults" class="results"></div>
      </div>
    </div>
  </div>

  <script>
    // Accurate size conversion data based on UK standard sizing
    // Women's Tops: Regular/Petite sizes
    const womenSizeMap = {
      'XXS': { us: '00-0', uk: '4', eu: '30-32', au: '4', bust: '76-79', waist: '60', hips: '84-86.5' },
      'XS': { us: '2-4', uk: '8', eu: '34-36', au: '8', bust: '86', waist: '63.5', hips: '89-91.5' },
      'S': { us: '6-8', uk: '10', eu: '38-40', au: '10', bust: '89', waist: '68.5-72', hips: '94-97' },
      'M': { us: '10-12', uk: '12-14', eu: '42-44', au: '12-14', bust: '91-94', waist: '72-77', hips: '97-102' },
      'L': { us: '14-16', uk: '14/16-16', eu: '46-48', au: '14-16', bust: '98-101', waist: '77-85', hips: '102-109' },
      'XL': { us: '18-20', uk: '18-20', eu: '50-52', au: '18-20', bust: '107-112', waist: '85-93', hips: '109-118' },
      'XXL': { us: '22-24', uk: '22-24', eu: '54-56', au: '22-24', bust: '117-123', waist: '93-101', hips: '118-122' },
      '3XL': { us: '26+', uk: '26-30', eu: '58+', au: '26-30', bust: '127-137', waist: '101-125', hips: '122-142' }
    };
    
    // Women's Bottoms: Waist ranges for pants
    const womenBottomSizeMap = {
      'XS': { uk: '8', waist: '27.5-28.5', waistCm: '70-72', hip: '37', hipCm: '94' },
      'S': { uk: '10', waist: '28.5-29.5', waistCm: '72-75', hip: '38', hipCm: '97' },
      'M': { uk: '12-14', waist: '29.5-31.5', waistCm: '75-80', hip: '39-40', hipCm: '99-102' },
      'L': { uk: '14/16-16', waist: '32-34.5', waistCm: '81-88', hip: '41.5-43', hipCm: '105-112' },
      'XL': { uk: '18-20', waist: '35-38.5', waistCm: '89-98', hip: '44.5-46.5', hipCm: '113-122' },
      'XXL': { uk: '22-24', waist: '40-43', waistCm: '101-109', hip: '48-50', hipCm: '122-127' },
      '3XL': { uk: '26-30', waist: '44-49', waistCm: '112-125', hip: '52-56', hipCm: '132-142' }
    };

    // Men's sizes based on standard international sizing
    // Men's Tops: Chest measurements
    const menSizeMap = {
      'XS': { us: 'XS', uk: '34', eu: '44', au: 'XS', chest: '86-90', waist: '71-75', neck: '37-38' },
      'S': { us: 'S', uk: '36-38', eu: '46-48', au: 'S', chest: '91-100', waist: '76-85', neck: '38-40.5' },
      'M': { us: 'M', uk: '40-42', eu: '50-52', au: 'M', chest: '101-110', waist: '86-95', neck: '40.5-43' },
      'L': { us: 'L', uk: '44-46', eu: '54-56', au: 'L', chest: '111-121', waist: '96-105', neck: '43-44.5' },
      'XL': { us: 'XL', uk: '48-50', eu: '58-60', au: 'XL', chest: '122-131', waist: '106-115', neck: '44.5-47' },
      'XXL': { us: '2XL', uk: '52', eu: '62+', au: '2XL', chest: '132-136', waist: '116+', neck: '47+' },
      '3XL': { us: '3XL', uk: '54+', eu: '64+', au: '3XL', chest: '137+', waist: '120+', neck: '48+' },
      '4XL': { us: '4XL', uk: '56+', eu: '66+', au: '4XL', chest: '140+', waist: '125+', neck: '50+' }
    };
    
    // Men's Bottoms: Waist measurements for pants
    const menBottomSizeMap = {
      'XS': { uk: '28', waist: '28', waistCm: '71-75', eu: '44' },
      'S': { uk: '30-32', waist: '30-32', waistCm: '76-85', eu: '46-48' },
      'M': { uk: '34-36', waist: '34-36', waistCm: '86-95', eu: '50-52' },
      'L': { uk: '38-40', waist: '38-40', waistCm: '96-105', eu: '54-56' },
      'XL': { uk: '42-44', waist: '42-44', waistCm: '106-115', eu: '58-60' },
      'XXL': { uk: '46+', waist: '46+', waistCm: '116+', eu: '62+' },
      '3XL': { uk: '50+', waist: '50+', waistCm: '125+', eu: '64+' },
      '4XL': { uk: '52+', waist: '52+', waistCm: '130+', eu: '66+' }
    };

    function switchTab(tab) {
      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
      document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
      event.target.classList.add('active');
      document.getElementById(tab).classList.add('active');
      
      // Reset results
      document.querySelectorAll('.results').forEach(r => {
        r.classList.remove('show');
        r.innerHTML = '';
      });
    }

    function toggleInput(gender, method) {
      const buttons = event.target.parentElement.querySelectorAll('.toggle-btn');
      buttons.forEach(b => b.classList.remove('active'));
      event.target.classList.add('active');

      document.getElementById(gender + 'Letter').style.display = method === 'letter' ? 'block' : 'none';
      document.getElementById(gender + 'Measurements').style.display = method === 'measurements' ? 'block' : 'none';

      if (method === 'letter') {
        if (gender === 'women') {
          document.getElementById('womenBust').value = '';
          document.getElementById('womenWaist').value = '';
          document.getElementById('womenHips').value = '';
        } else if (gender === 'men') {
          document.getElementById('menChest').value = '';
          document.getElementById('menWaist').value = '';
        }
      } else if (method === 'measurements') {
        const letterSection = document.getElementById(gender + 'Letter');
        const sizeOptions = letterSection.querySelectorAll('.size-option');
        sizeOptions.forEach(opt => opt.classList.remove('selected'));
        document.getElementById(gender + 'SelectedSize').value = '';
      }
    }

    function selectSize(element, gender, size) {
      const container = element.parentElement;
      container.querySelectorAll('.size-option').forEach(opt => opt.classList.remove('selected'));
      element.classList.add('selected');
      document.getElementById(gender + 'SelectedSize').value = size;
    }

    function toggleWearType(gender, type) {
      const topBtn = document.getElementById(gender + 'TopBtn');
      const bottomBtn = document.getElementById(gender + 'BottomBtn');
      const topSection = document.getElementById(gender + 'TopSection');
      const bottomSection = document.getElementById(gender + 'BottomSection');
      const topConvertBtn = document.getElementById(gender + 'ConvertBtn');
      const bottomConvertBtn = document.getElementById(gender + 'BottomConvertBtn');
      
      topBtn.classList.remove('active');
      bottomBtn.classList.remove('active');
      
      if (type === 'top') {
        topBtn.classList.add('active');
        topSection.style.display = 'block';
        bottomSection.style.display = 'none';
        topConvertBtn.style.display = 'block';
        bottomConvertBtn.style.display = 'none';
      } else {
        bottomBtn.classList.add('active');
        topSection.style.display = 'none';
        bottomSection.style.display = 'block';
        topConvertBtn.style.display = 'none';
        bottomConvertBtn.style.display = 'block';
      }
      
      // Reset results
      document.querySelectorAll('.results').forEach(r => {
        r.classList.remove('show');
        r.innerHTML = '';
      });
    }

    function convertWomensBottom() {
      const waistInches = parseFloat(document.getElementById('womenWaistInches').value);
      
      if (!waistInches || waistInches < 20 || waistInches > 50) {
        alert('Please enter a valid waist size (20-50 inches)');
        return;
      }
      
      const waistCm = waistInches * 2.54;
      
      // Waist size to letter size mapping for pants (28-30 inches = S/XS range)
      let letterSize;
      if (waistInches < 26) letterSize = 'XXS';
      else if (waistInches < 28) letterSize = 'XS';
      else if (waistInches < 30) letterSize = 'S';
      else if (waistInches < 32) letterSize = 'S';
      else if (waistInches < 34) letterSize = 'M';
      else if (waistInches < 36) letterSize = 'M';
      else if (waistInches < 38) letterSize = 'L';
      else if (waistInches < 40) letterSize = 'L';
      else if (waistInches < 42) letterSize = 'XL';
      else if (waistInches < 44) letterSize = 'XXL';
      else letterSize = '3XL';
      
      if (!size) {
        alert('Invalid size');
        return;
      }

      const brands = [
        { name: 'Zara', size: bottomSize.uk, us: size.us, uk: bottomSize.uk, eu: size.eu, au: bottomSize.uk, letter: letterSize, note: 'Runs small' },
        { name: 'H&M', size: bottomSize.uk, us: size.us, uk: bottomSize.uk, eu: size.eu, au: bottomSize.uk, letter: letterSize, note: 'Standard fit' },
        { name: 'ASOS', size: bottomSize.uk, us: size.us, uk: bottomSize.uk, eu: size.eu, au: bottomSize.uk, letter: letterSize, note: 'True to size' },
        { name: 'Target AU', size: bottomSize.uk, au: bottomSize.uk, letter: letterSize, note: 'AU sizing' },
        { name: 'Kmart', size: bottomSize.uk, au: bottomSize.uk, letter: letterSize, note: 'AU sizing' },
        { name: 'Uniqlo', size: letterSize, us: size.us, letter: letterSize, note: 'Asian fit - runs small' },
        { name: 'Nike', size: letterSize, us: size.us, letter: letterSize, note: 'Athletic fit' },
        { name: 'Adidas', size: letterSize, us: size.us, uk: bottomSize.uk, eu: size.eu, letter: letterSize, note: 'Athletic fit' },
        { name: 'Forever 21', size: size.us, us: size.us, letter: letterSize, note: 'Runs small' },
        { name: 'Cotton On', size: bottomSize.uk, au: bottomSize.uk, letter: letterSize, note: 'AU sizing' },
      ];

      let html = `
        <div class="result-header">
          <h2>Your Pant Size Is:</h2>
          <div class="your-size">${letterSize}</div>
          <div style="font-size: 0.9em; color: var(--text-light); margin-top: 0.5em;">Waist: ${waistInches}" (${waistCm.toFixed(1)}cm) | UK: ${bottomSize.uk}</div>
          <div style="font-size: 0.85em; color: var(--text-light); margin-top: 0.3em;">Waist Range: ${bottomSize.waist}" (${bottomSize.waistCm}cm) | Hip: ${bottomSize.hip}" (${bottomSize.hipCm}cm)</div>
        </div>
        <div class="brand-grid">
      `;

      brands.forEach(brand => {
        html += `
          <div class="brand-card">
            <div class="brand-name">${brand.name}</div>
            <div class="size-display">${brand.size}</div>
            ${brand.note ? `<div style="font-size: 0.85em; color: var(--text-light); margin-top: 0.5em;">${brand.note}</div>` : ''}
            <div class="size-details">
              ${brand.letter ? `<div class="size-detail"><div class="size-label">Letter</div><div class="size-value">${brand.letter}</div></div>` : ''}
              ${brand.us ? `<div class="size-detail"><div class="size-label">US</div><div class="size-value">${brand.us}</div></div>` : ''}
              ${brand.uk ? `<div class="size-detail"><div class="size-label">UK</div><div class="size-value">${brand.uk}</div></div>` : ''}
              ${brand.eu ? `<div class="size-detail"><div class="size-label">EU</div><div class="size-value">${brand.eu}</div></div>` : ''}
              ${brand.au ? `<div class="size-detail"><div class="size-label">AU</div><div class="size-value">${brand.au}</div></div>` : ''}
            </div>
          </div>
        `;
      });

      html += '</div>';
      html += '<div class="note">üí° <strong>Pro Tip:</strong> Pant sizes vary by brand and style. Low-rise vs high-rise, stretch vs non-stretch fabrics all affect fit. When in doubt, check the brand\'s specific size chart!</div>';

      document.getElementById('womensResults').innerHTML = html;
      document.getElementById('womensResults').classList.add('show');
      document.getElementById('womensResults').scrollIntoView({ behavior: 'smooth', block: 'start' });
    }

    function convertWomens() {
      const selectedSize = document.getElementById('womenSelectedSize').value;
      const bust = parseFloat(document.getElementById('womenBust').value);
      const waist = parseFloat(document.getElementById('womenWaist').value);
      const hips = parseFloat(document.getElementById('womenHips').value);

      let letterSize;

      if (selectedSize) {
        letterSize = selectedSize;
      } else if (bust || waist || hips) {
        // Match measurements to actual size ranges from sizeMap
        // Find the size that best matches all provided measurements
        let bestMatch = null;
        let bestScore = -1;
        
        for (const [size, data] of Object.entries(womenSizeMap)) {
          let score = 0;
          let matches = 0;
          
          if (bust) {
            const bustRange = data.bust.split('-');
            const minBust = parseFloat(bustRange[0]);
            const maxBust = bustRange[1] ? parseFloat(bustRange[1].replace('+', '')) : minBust + 10;
            if (bust >= minBust && bust <= maxBust) {
              score += 3;
              matches++;
            } else if (bust >= minBust - 2 && bust <= maxBust + 2) {
              score += 1;
            }
          }
          
          if (waist) {
            const waistRange = data.waist.split('-');
            const minWaist = parseFloat(waistRange[0]);
            const maxWaist = waistRange[1] ? parseFloat(waistRange[1].replace('+', '')) : minWaist + 10;
            if (waist >= minWaist && waist <= maxWaist) {
              score += 3;
              matches++;
            } else if (waist >= minWaist - 2 && waist <= maxWaist + 2) {
              score += 1;
            }
          }
          
          if (hips) {
            const hipsRange = data.hips.split('-');
            const minHips = parseFloat(hipsRange[0]);
            const maxHips = hipsRange[1] ? parseFloat(hipsRange[1].replace('+', '')) : minHips + 10;
            if (hips >= minHips && hips <= maxHips) {
              score += 3;
              matches++;
            } else if (hips >= minHips - 2 && hips <= maxHips + 2) {
              score += 1;
            }
          }
          
          if (score > bestScore) {
            bestScore = score;
            bestMatch = size;
          }
        }
        
        if (bestMatch) {
          letterSize = bestMatch;
        } else {
          // Fallback: use bust measurement with accurate thresholds
          if (bust) {
            if (bust < 80) letterSize = 'XXS';
            else if (bust < 85) letterSize = 'XS';
            else if (bust < 90) letterSize = 'S';
            else if (bust < 95) letterSize = 'M';
            else if (bust < 100) letterSize = 'L';
            else if (bust < 106) letterSize = 'XL';
            else if (bust < 112) letterSize = 'XXL';
            else letterSize = '3XL';
          } else {
            alert('Please enter at least bust measurement for accurate sizing');
            return;
          }
        }
      } else {
        alert('Please select a size or enter at least one measurement');
        return;
      }

      const size = womenSizeMap[letterSize];
      if (!size) {
        alert('Invalid size selected');
        return;
      }

      // Brand-specific sizing (based on real brand size charts)
      const brands = [
        { name: 'Zara', size: size.eu, us: size.us, uk: size.uk, eu: size.eu, au: size.au, letter: letterSize, note: 'Runs small' },
        { name: 'H&M', size: size.us, us: size.us, uk: size.uk, eu: size.eu, au: size.au, letter: letterSize, note: 'Standard fit' },
        { name: 'ASOS', size: size.uk, us: size.us, uk: size.uk, eu: size.eu, au: size.au, letter: letterSize, note: 'True to size' },
        { name: 'Target AU', size: size.au, au: size.au, letter: letterSize, note: 'AU sizing' },
        { name: 'Kmart', size: size.au, au: size.au, letter: letterSize, note: 'AU sizing' },
        { name: 'Uniqlo', size: letterSize, us: size.us, letter: letterSize, note: 'Asian fit - runs small' },
        { name: 'Nike', size: letterSize, us: size.us, letter: letterSize, note: 'Athletic fit' },
        { name: 'Adidas', size: letterSize, us: size.us, uk: size.uk, eu: size.eu, letter: letterSize, note: 'Athletic fit' },
        { name: 'Forever 21', size: size.us, us: size.us, letter: letterSize, note: 'Runs small' },
        { name: 'Cotton On', size: size.au, au: size.au, letter: letterSize, note: 'AU sizing' },
      ];

      let html = `
        <div class="result-header">
          <h2>Your Size Is:</h2>
          <div class="your-size">${letterSize}</div>
        </div>
        <div class="brand-grid">
      `;

      brands.forEach(brand => {
        html += `
          <div class="brand-card">
            <div class="brand-name">${brand.name}</div>
            <div class="size-display">${brand.size}</div>
            ${brand.note ? `<div style="font-size: 0.85em; color: var(--text-light); margin-top: 0.5em;">${brand.note}</div>` : ''}
            <div class="size-details">
              ${brand.letter ? `<div class="size-detail"><div class="size-label">Letter</div><div class="size-value">${brand.letter}</div></div>` : ''}
              ${brand.us ? `<div class="size-detail"><div class="size-label">US</div><div class="size-value">${brand.us}</div></div>` : ''}
              ${brand.uk ? `<div class="size-detail"><div class="size-label">UK</div><div class="size-value">${brand.uk}</div></div>` : ''}
              ${brand.eu ? `<div class="size-detail"><div class="size-label">EU</div><div class="size-value">${brand.eu}</div></div>` : ''}
              ${brand.au ? `<div class="size-detail"><div class="size-label">AU</div><div class="size-value">${brand.au}</div></div>` : ''}
            </div>
          </div>
        `;
      });

      html += '</div>';
      html += '<div class="note">üí° <strong>Pro Tip:</strong> Sizes vary significantly between brands and styles. European brands (Zara, H&M) often run smaller. When in doubt, check the brand\'s specific size chart or size up for comfort. Always measure yourself accurately!</div>';

      document.getElementById('womensResults').innerHTML = html;
      document.getElementById('womensResults').classList.add('show');
      document.getElementById('womensResults').scrollIntoView({ behavior: 'smooth', block: 'start' });
    }

    function toggleWearType(gender, type) {
      const topBtn = document.getElementById(gender + 'TopBtn');
      const bottomBtn = document.getElementById(gender + 'BottomBtn');
      const topSection = document.getElementById(gender + 'TopSection');
      const bottomSection = document.getElementById(gender + 'BottomSection');
      const topConvertBtn = document.getElementById(gender + 'ConvertBtn');
      const bottomConvertBtn = document.getElementById(gender + 'BottomConvertBtn');
      
      topBtn.classList.remove('active');
      bottomBtn.classList.remove('active');
      
      if (type === 'top') {
        topBtn.classList.add('active');
        topSection.style.display = 'block';
        bottomSection.style.display = 'none';
        topConvertBtn.style.display = 'block';
        bottomConvertBtn.style.display = 'none';
      } else {
        bottomBtn.classList.add('active');
        topSection.style.display = 'none';
        bottomSection.style.display = 'block';
        topConvertBtn.style.display = 'none';
        bottomConvertBtn.style.display = 'block';
      }
      
      // Reset results
      document.querySelectorAll('.results').forEach(r => {
        r.classList.remove('show');
        r.innerHTML = '';
      });
    }

    function convertMensBottom() {
      const waistInches = parseFloat(document.getElementById('menWaistInches').value);
      
      if (!waistInches || waistInches < 24 || waistInches > 50) {
        alert('Please enter a valid waist size (24-50 inches)');
        return;
      }
      
      const waistCm = waistInches * 2.54;
      
      // Waist size to letter size mapping for pants (28-30 inches = S/XS range)
      let letterSize;
      if (waistInches < 28) letterSize = 'XS';
      else if (waistInches < 30) letterSize = 'S';
      else if (waistInches < 32) letterSize = 'S';
      else if (waistInches < 34) letterSize = 'M';
      else if (waistInches < 36) letterSize = 'M';
      else if (waistInches < 38) letterSize = 'L';
      else if (waistInches < 40) letterSize = 'L';
      else if (waistInches < 42) letterSize = 'XL';
      else if (waistInches < 44) letterSize = 'XXL';
      else if (waistInches < 46) letterSize = '3XL';
      else letterSize = '4XL';
      
      const size = menSizeMap[letterSize];
      if (!size) {
        alert('Invalid size');
        return;
      }

      const brands = [
        { name: 'H&M', size: size.letter, us: size.us, uk: size.uk, eu: size.eu, au: size.au, letter: letterSize, note: 'Standard fit' },
        { name: 'Zara', size: size.eu, eu: size.eu, letter: letterSize, note: 'Runs small' },
        { name: 'ASOS', size: size.uk, uk: size.uk, letter: letterSize, note: 'True to size' },
        { name: 'Uniqlo', size: size.letter, letter: letterSize, note: 'Asian fit - runs small' },
        { name: 'Target AU', size: size.au, au: size.au, letter: letterSize, note: 'AU sizing' },
        { name: 'Kmart', size: size.au, au: size.au, letter: letterSize, note: 'AU sizing' },
        { name: 'Nike', size: size.letter, letter: letterSize, note: 'Athletic fit' },
        { name: 'Adidas', size: size.letter, us: size.us, uk: size.uk, eu: size.eu, letter: letterSize, note: 'Athletic fit' },
        { name: 'Cotton On', size: size.au, au: size.au, letter: letterSize, note: 'AU sizing' },
        { name: 'Connor', size: size.au, au: size.au, letter: letterSize, note: 'AU sizing' },
      ];

      let html = `
        <div class="result-header">
          <h2>Your Pant Size Is:</h2>
          <div class="your-size">${letterSize}</div>
          <div style="font-size: 0.9em; color: var(--text-light); margin-top: 0.5em;">Waist: ${waistInches}" (${waistCm.toFixed(1)}cm)</div>
        </div>
        <div class="brand-grid">
      `;

      brands.forEach(brand => {
        html += `
          <div class="brand-card">
            <div class="brand-name">${brand.name}</div>
            <div class="size-display">${brand.size}</div>
            ${brand.note ? `<div style="font-size: 0.85em; color: var(--text-light); margin-top: 0.5em;">${brand.note}</div>` : ''}
            <div class="size-details">
              ${brand.letter ? `<div class="size-detail"><div class="size-label">Letter</div><div class="size-value">${brand.letter}</div></div>` : ''}
              ${brand.us ? `<div class="size-detail"><div class="size-label">US</div><div class="size-value">${brand.us}</div></div>` : ''}
              ${brand.uk ? `<div class="size-detail"><div class="size-label">UK</div><div class="size-value">${brand.uk}</div></div>` : ''}
              ${brand.eu ? `<div class="size-detail"><div class="size-label">EU</div><div class="size-value">${brand.eu}</div></div>` : ''}
              ${brand.au ? `<div class="size-detail"><div class="size-label">AU</div><div class="size-value">${brand.au}</div></div>` : ''}
            </div>
          </div>
        `;
      });

      html += '</div>';
      html += '<div class="note">üí° <strong>Pro Tip:</strong> Pant sizes vary by brand and style. Low-rise vs high-rise, stretch vs non-stretch fabrics all affect fit. When in doubt, check the brand\'s specific size chart!</div>';

      document.getElementById('mensResults').innerHTML = html;
      document.getElementById('mensResults').classList.add('show');
      document.getElementById('mensResults').scrollIntoView({ behavior: 'smooth', block: 'start' });
    }

    function convertMens() {
      const selectedSize = document.getElementById('menSelectedSize').value;
      const chest = parseFloat(document.getElementById('menChest').value);
      const waist = parseFloat(document.getElementById('menWaist').value);

      let letterSize;

      if (selectedSize) {
        letterSize = selectedSize;
      } else if (chest || waist) {
        // Match measurements to actual size ranges from sizeMap
        let bestMatch = null;
        let bestScore = -1;
        
        for (const [size, data] of Object.entries(menSizeMap)) {
          let score = 0;
          let matches = 0;
          
          if (chest) {
            const chestStr = data.chest.toString();
            if (chestStr.includes('-')) {
              const chestRange = chestStr.split('-');
              const minChest = parseFloat(chestRange[0]);
              const maxChest = parseFloat(chestRange[1].replace('+', ''));
              if (chest >= minChest && chest <= maxChest) {
                score += 5;
                matches++;
              } else if (chest >= minChest - 3 && chest <= maxChest + 3) {
                score += 2;
              }
            } else {
              const targetChest = parseFloat(chestStr.replace('+', ''));
              if (Math.abs(chest - targetChest) <= 2) {
                score += 5;
                matches++;
              } else if (Math.abs(chest - targetChest) <= 5) {
                score += 2;
              }
            }
          }
          
          if (waist) {
            const waistStr = data.waist.toString();
            if (waistStr.includes('-')) {
              const waistRange = waistStr.split('-');
              const minWaist = parseFloat(waistRange[0]);
              const maxWaist = parseFloat(waistRange[1].replace('+', ''));
              if (waist >= minWaist && waist <= maxWaist) {
                score += 4;
                matches++;
              } else if (waist >= minWaist - 3 && waist <= maxWaist + 3) {
                score += 1;
              }
            } else {
              const targetWaist = parseFloat(waistStr.replace('+', ''));
              if (Math.abs(waist - targetWaist) <= 2) {
                score += 4;
                matches++;
              } else if (Math.abs(waist - targetWaist) <= 5) {
                score += 1;
              }
            }
          }
          
          if (score > bestScore) {
            bestScore = score;
            bestMatch = size;
          }
        }
        
        if (bestMatch && bestScore > 0) {
          letterSize = bestMatch;
        } else {
          // Fallback: use chest measurement with accurate thresholds
          if (chest) {
            if (chest < 92) letterSize = 'XS';
            else if (chest < 98) letterSize = 'S';
            else if (chest < 104) letterSize = 'M';
            else if (chest < 110) letterSize = 'L';
            else if (chest < 116) letterSize = 'XL';
            else if (chest < 122) letterSize = 'XXL';
            else if (chest < 128) letterSize = '3XL';
            else letterSize = '4XL';
          } else {
            alert('Please enter at least chest measurement for accurate sizing');
            return;
          }
        }
      } else {
        alert('Please select a size or enter at least one measurement');
        return;
      }

      const size = menSizeMap[letterSize];
      if (!size) {
        alert('Invalid size selected');
        return;
      }

      // Brand-specific sizing (based on real brand size charts)
      const brands = [
        { name: 'H&M', size: size.letter, us: size.us, uk: size.uk, eu: size.eu, au: size.au, letter: letterSize, note: 'Standard fit' },
        { name: 'Zara', size: size.eu, eu: size.eu, letter: letterSize, note: 'Runs small' },
        { name: 'ASOS', size: size.uk, uk: size.uk, letter: letterSize, note: 'True to size' },
        { name: 'Uniqlo', size: size.letter, letter: letterSize, note: 'Asian fit - runs small' },
        { name: 'Target AU', size: size.au, au: size.au, letter: letterSize, note: 'AU sizing' },
        { name: 'Kmart', size: size.au, au: size.au, letter: letterSize, note: 'AU sizing' },
        { name: 'Nike', size: size.letter, letter: letterSize, note: 'Athletic fit' },
        { name: 'Adidas', size: size.letter, us: size.us, uk: size.uk, eu: size.eu, letter: letterSize, note: 'Athletic fit' },
        { name: 'Cotton On', size: size.au, au: size.au, letter: letterSize, note: 'AU sizing' },
        { name: 'Connor', size: size.au, au: size.au, letter: letterSize, note: 'AU sizing' },
      ];

      let html = `
        <div class="result-header">
          <h2>Your Size Is:</h2>
          <div class="your-size">${letterSize}</div>
        </div>
        <div class="brand-grid">
      `;

      brands.forEach(brand => {
        html += `
          <div class="brand-card">
            <div class="brand-name">${brand.name}</div>
            <div class="size-display">${brand.size}</div>
            ${brand.note ? `<div style="font-size: 0.85em; color: var(--text-light); margin-top: 0.5em;">${brand.note}</div>` : ''}
            <div class="size-details">
              ${brand.letter ? `<div class="size-detail"><div class="size-label">Letter</div><div class="size-value">${brand.letter}</div></div>` : ''}
              ${brand.us ? `<div class="size-detail"><div class="size-label">US</div><div class="size-value">${brand.us}</div></div>` : ''}
              ${brand.uk ? `<div class="size-detail"><div class="size-label">UK</div><div class="size-value">${brand.uk}</div></div>` : ''}
              ${brand.eu ? `<div class="size-detail"><div class="size-label">EU</div><div class="size-value">${brand.eu}</div></div>` : ''}
              ${brand.au ? `<div class="size-detail"><div class="size-label">AU</div><div class="size-value">${brand.au}</div></div>` : ''}
            </div>
          </div>
        `;
      });

      html += '</div>';
      html += '<div class="note">üí° <strong>Pro Tip:</strong> Athletic brands (Nike, Adidas) often run smaller and tighter. European brands (Zara, H&M) typically run smaller than US/AU brands. Consider sizing up for a relaxed fit, especially for athletic wear!</div>';

      document.getElementById('mensResults').innerHTML = html;
      document.getElementById('mensResults').classList.add('show');
      document.getElementById('mensResults').scrollIntoView({ behavior: 'smooth', block: 'start' });
    }

    function convertShoes() {
      const size = parseFloat(document.getElementById('shoeSize').value);
      const system = document.getElementById('shoeSystem').value;
      const gender = document.getElementById('shoeGender').value;

      if (!size || size < 1 || size > 20) {
        alert('Please enter a valid shoe size (1-20)');
        return;
      }

      let us, uk, eu, au;

      // Accurate shoe size conversions using lookup tables from real size charts
      if (gender === "Women's") {
        const womenShoeMap = {
          // UK -> [AUS, EU, US, JAPAN]
          '2': [4, 35, 4, 21], '3': [5, 36, 5, 22], '4': [6, 37, 6, 23],
          '5': [7, 38, 7, 24], '6': [8, 39, 8, 25], '7': [9, 40, 9, 26],
          '8': [10, 41, 10, 27], '9': [11, 42, 11, 28]
        };
        
        let ukSize, ausSize, euSize, usSize;
        
        if (system === 'us') {
          usSize = size;
          ukSize = size - 2;
          const map = womenShoeMap[Math.round(ukSize).toString()];
          if (map) {
            ausSize = map[0];
            euSize = map[1];
          } else {
            ausSize = size - 0.5;
            euSize = size + 30;
          }
        } else if (system === 'uk') {
          ukSize = size;
          const map = womenShoeMap[Math.round(size).toString()];
          if (map) {
            ausSize = map[0];
            euSize = map[1];
            usSize = map[2];
          } else {
            ausSize = size + 2;
            euSize = size + 33;
            usSize = size + 2;
          }
        } else if (system === 'eu') {
          euSize = size;
          for (const [uk, values] of Object.entries(womenShoeMap)) {
            if (values[1] === size) {
              ukSize = parseFloat(uk);
              ausSize = values[0];
              usSize = values[2];
              break;
            }
          }
          if (!ukSize) {
            ukSize = size - 33;
            ausSize = size - 31;
            usSize = size - 31;
          }
        } else { // AU
          ausSize = size;
          for (const [uk, values] of Object.entries(womenShoeMap)) {
            if (values[0] === size) {
              ukSize = parseFloat(uk);
              euSize = values[1];
              usSize = values[2];
              break;
            }
          }
          if (!ukSize) {
            ukSize = size - 2;
            euSize = size + 31;
            usSize = size - 2;
          }
        }
        
        us = usSize;
        uk = ukSize;
        eu = euSize;
        au = ausSize;
      } else { // Men's shoe sizes
        const menShoeMap = {
          // UK -> [AUS, EU, US, JAPAN]
          '6': [6, 39, 7, 24.5], '7': [7, 40.5, 8, 25.5], '8': [8, 42, 9, 26.5],
          '9': [9, 43, 10, 27.5], '10': [10, 44.5, 11, 28.5], '11': [11, 46, 12, 29.5],
          '12': [12, 47, 13, 30.5], '13': [13, 48, 14, 31.5], '14': [14, 49.5, 15, 32.5]
        };
        
        let ukSize, ausSize, euSize, usSize;
        
        if (system === 'us') {
          usSize = size;
          ukSize = size - 1;
          const map = menShoeMap[Math.round(ukSize).toString()];
          if (map) {
            ausSize = map[0];
            euSize = map[1];
          } else {
            ausSize = size;
            euSize = size + 33;
          }
        } else if (system === 'uk') {
          ukSize = size;
          const map = menShoeMap[Math.round(size).toString()];
          if (map) {
            ausSize = map[0];
            euSize = map[1];
            usSize = map[2];
          } else {
            ausSize = size;
            euSize = size + 33;
            usSize = size + 1;
          }
        } else if (system === 'eu') {
          euSize = size;
          for (const [uk, values] of Object.entries(menShoeMap)) {
            if (values[1] === size || Math.abs(values[1] - size) < 1) {
              ukSize = parseFloat(uk);
              ausSize = values[0];
              usSize = values[2];
              break;
            }
          }
          if (!ukSize) {
            ukSize = size - 33;
            ausSize = size - 33;
            usSize = size - 32;
          }
        } else { // AU
          ausSize = size;
          for (const [uk, values] of Object.entries(menShoeMap)) {
            if (values[0] === size) {
              ukSize = parseFloat(uk);
              euSize = values[1];
              usSize = values[2];
              break;
            }
          }
          if (!ukSize) {
            ukSize = size;
            euSize = size + 33;
            usSize = size + 1;
          }
        }
        
        us = usSize;
        uk = ukSize;
        eu = euSize;
        au = ausSize;
      }

      let html = `
        <div class="result-header">
          <h2>${gender} Shoe Size Conversion</h2>
        </div>
        <div class="brand-grid">
          <div class="brand-card">
            <div class="brand-name">US Size</div>
            <div class="size-display">${us % 1 === 0 ? us : us.toFixed(1)}</div>
          </div>
          <div class="brand-card">
            <div class="brand-name">UK Size</div>
            <div class="size-display">${uk % 1 === 0 ? uk : uk.toFixed(1)}</div>
          </div>
          <div class="brand-card">
            <div class="brand-name">EU Size</div>
            <div class="size-display">${eu % 1 === 0 ? eu : eu.toFixed(1)}</div>
          </div>
          <div class="brand-card">
            <div class="brand-name">AU Size</div>
            <div class="size-display">${au % 1 === 0 ? au : au.toFixed(1)}</div>
          </div>
        </div>
        <div class="note">üí° <strong>Shoe Tip:</strong> Shoe sizes vary significantly between brands. Nike and Adidas often run narrow. European brands typically run smaller. Always try before buying when possible, or check the brand's specific size chart!</div>
      `;

      document.getElementById('shoesResults').innerHTML = html;
      document.getElementById('shoesResults').classList.add('show');
      document.getElementById('shoesResults').scrollIntoView({ behavior: 'smooth', block: 'start' });
    }
  </script>
</body>
</html>

