<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DO NOT TOUCH (GLITCH MODE + Arrow Dodge)</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      margin: 0;
      background: #181818;
      color: white;
      font-family: 'Arial', 'Helvetica', sans-serif;
      overflow: hidden;
      cursor: crosshair;
    }

    #center {
      width: 100vw;
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }

    #forbid {
      font-size: clamp(1.8em, 4vw, 2.2em);
      border-radius: 28px;
      background: linear-gradient(135deg, #f45c63 0%, #ff6b7a 100%);
      color: #fff;
      padding: 26px 50px;
      margin-bottom: 54px;
      box-shadow: 0 20px 60px rgba(244, 92, 99, 0.5),
                  0 0 40px rgba(244, 92, 99, 0.3);
      transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1),
                  filter 0.4s ease,
                  box-shadow 0.4s ease;
      text-align: center;
      font-weight: bold;
      letter-spacing: 0.5px;
      user-select: none;
      position: relative;
      z-index: 1;
    }

    #forbid:hover {
      transform: scale(1.05);
      box-shadow: 0 25px 80px rgba(244, 92, 99, 0.6),
                  0 0 60px rgba(244, 92, 99, 0.4);
    }

    .glitchit {
      animation: glitch 0.12s steps(1) infinite;
      position: relative;
    }

    .glitchit::before,
    .glitchit::after {
      content: attr(data-text);
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }

    .glitchit::before {
      animation: glitch-red 0.2s infinite;
      color: #ff0000;
      clip-path: inset(40% 0 60% 0);
      transform: translate(-2px, 0);
    }

    .glitchit::after {
      animation: glitch-blue 0.2s infinite;
      color: #00ffff;
      clip-path: inset(60% 0 40% 0);
      transform: translate(2px, 0);
    }

    @keyframes glitch {
      0%, 100% {
        filter: hue-rotate(0deg);
        transform: translate(0);
        text-shadow: 0 0 0;
      }
      10% {
        filter: hue-rotate(90deg) brightness(3);
        transform: translate(-3px, 2px);
        text-shadow: -3px 0 0 #ff0000, 3px 0 0 #00ffff;
      }
      20% {
        filter: hue-rotate(180deg) contrast(3);
        transform: translate(3px, -2px);
        text-shadow: -3px 0 0 #ff00ff, 3px 0 0 #00ff00;
      }
      30% {
        filter: hue-rotate(270deg) saturate(3);
        transform: translate(-2px, -3px);
        text-shadow: -2px 0 0 #ffff00, 2px 0 0 #ff00ff;
      }
      40% {
        filter: hue-rotate(340deg) invert(1);
        transform: translate(2px, 3px);
        text-shadow: -4px 0 0 #00ffff, 4px 0 0 #ff0000;
      }
      50% {
        filter: hue-rotate(0deg) invert(1) brightness(2);
        transform: translate(-4px, 0);
        text-shadow: -5px 0 0 #ff0000, 5px 0 0 #00ffff, 0 0 20px #ff00ff;
      }
      60% {
        filter: hue-rotate(200deg) brightness(2.5);
        transform: translate(4px, 0);
        text-shadow: -3px 0 0 #00ff00, 3px 0 0 #ff00ff;
      }
      70% {
        filter: hue-rotate(100deg) contrast(3);
        transform: translate(-3px, -2px);
        text-shadow: -2px 0 0 #ffff00, 2px 0 0 #ff0000;
      }
      80% {
        filter: hue-rotate(50deg) saturate(3);
        transform: translate(3px, 2px);
        text-shadow: -4px 0 0 #00ffff, 4px 0 0 #ff00ff;
      }
      90% {
        filter: hue-rotate(300deg) invert(0.5);
        transform: translate(-2px, 2px);
        text-shadow: -3px 0 0 #ff0000, 3px 0 0 #00ff00;
      }
    }

    @keyframes glitch-red {
      0%, 100% {
        transform: translate(0);
      }
      20% {
        transform: translate(-4px, 2px);
      }
      40% {
        transform: translate(4px, -2px);
      }
      60% {
        transform: translate(-3px, 3px);
      }
      80% {
        transform: translate(3px, -3px);
      }
    }

    @keyframes glitch-blue {
      0%, 100% {
        transform: translate(0);
      }
      20% {
        transform: translate(4px, -2px);
      }
      40% {
        transform: translate(-4px, 2px);
      }
      60% {
        transform: translate(3px, 3px);
      }
      80% {
        transform: translate(-3px, -3px);
      }
    }

    #btn {
      font-size: clamp(1.2em, 3vw, 1.6em);
      padding: 1.4em 2.7em;
      border-radius: 24px;
      background: linear-gradient(135deg, #fff445 0%, #ffeb3b 100%);
      color: #181818;
      border: none;
      cursor: pointer;
      transition: background 0.7s ease,
                  transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1),
                  left 0.3s cubic-bezier(0.34, 1.56, 0.64, 1),
                  top 0.3s cubic-bezier(0.34, 1.56, 0.64, 1),
                  box-shadow 0.4s ease;
      box-shadow: 0 6px 48px rgba(251, 189, 16, 0.5),
                  0 0 20px rgba(255, 244, 69, 0.3);
      margin-bottom: 1.5em;
      position: relative;
      z-index: 2;
      font-weight: bold;
      letter-spacing: 0.5px;
      user-select: none;
    }

    #btn:hover:not(.borked) {
      transform: scale(1.1);
      box-shadow: 0 8px 60px rgba(251, 189, 16, 0.6),
                  0 0 30px rgba(255, 244, 69, 0.4);
    }

    #btn:active:not(.borked) {
      transform: scale(0.95);
    }

    .borked {
      animation: borked 0.08s infinite;
      position: relative;
    }

    .borked::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: inherit;
      animation: borked-overlay 0.15s infinite;
      mix-blend-mode: difference;
    }

    @keyframes borked {
      0%, 100% {
        filter: hue-rotate(0deg);
        transform: scale(1) translate(0);
      }
      10% {
        filter: hue-rotate(90deg) brightness(3);
        transform: scale(1.2) translate(-5px, 3px) rotate(10deg);
      }
      20% {
        filter: hue-rotate(180deg) contrast(3) invert(1);
        transform: scale(0.8) translate(5px, -3px) rotate(-10deg);
      }
      30% {
        filter: hue-rotate(270deg) saturate(3);
        transform: scale(1.3) translate(-3px, 5px) rotate(15deg);
      }
      40% {
        filter: hue-rotate(0deg) invert(1) brightness(2);
        transform: scale(0.9) translate(3px, -5px) rotate(-15deg);
      }
      50% {
        filter: hue-rotate(180deg) contrast(4);
        transform: scale(1.25) translate(-4px, 4px) rotate(20deg);
      }
      60% {
        filter: hue-rotate(90deg) invert(0.5);
        transform: scale(0.85) translate(4px, -4px) rotate(-20deg);
      }
      70% {
        filter: hue-rotate(270deg) brightness(2.5);
        transform: scale(1.15) translate(-2px, 2px) rotate(12deg);
      }
      80% {
        filter: hue-rotate(360deg) invert(1);
        transform: scale(0.95) translate(2px, -2px) rotate(-12deg);
      }
      90% {
        filter: hue-rotate(45deg) contrast(3);
        transform: scale(1.1) translate(-1px, 1px) rotate(8deg);
      }
    }

    @keyframes borked-overlay {
      0%, 100% {
        opacity: 0;
        transform: translate(0);
      }
      50% {
        opacity: 0.8;
        transform: translate(10px, -10px);
        filter: hue-rotate(180deg);
      }
    }

    .reverse {
      animation: reverseGlitch 0.2s infinite;
    }

    @keyframes reverseGlitch {
      0%, 100% {
        filter: hue-rotate(0deg);
        transform: rotate(0deg) scale(1, 1);
      }
      25% {
        filter: hue-rotate(90deg) brightness(2);
        transform: rotate(90deg) scale(-1, 1);
      }
      50% {
        filter: hue-rotate(180deg) invert(1);
        transform: rotate(180deg) scale(1, -1);
      }
      75% {
        filter: hue-rotate(270deg) contrast(2);
        transform: rotate(270deg) scale(-1, -1);
      }
    }

    .shake {
      animation: shake 0.12s infinite steps(1);
    }

    @keyframes shake {
      0%, 100% {
        transform: translate(0, 0) rotate(0deg);
        filter: hue-rotate(0deg);
      }
      5% {
        transform: translate(-10px, -8px) rotate(-5deg);
        filter: hue-rotate(90deg);
      }
      10% {
        transform: translate(8px, 6px) rotate(5deg);
        filter: hue-rotate(180deg);
      }
      15% {
        transform: translate(-6px, 10px) rotate(-8deg);
        filter: hue-rotate(270deg);
      }
      20% {
        transform: translate(12px, -8px) rotate(8deg);
        filter: hue-rotate(0deg) invert(0.5);
      }
      25% {
        transform: translate(-8px, -12px) rotate(-10deg);
        filter: hue-rotate(90deg) brightness(2);
      }
      30% {
        transform: translate(10px, 8px) rotate(10deg);
        filter: hue-rotate(180deg) contrast(2);
      }
      35% {
        transform: translate(-12px, 6px) rotate(-12deg);
        filter: hue-rotate(270deg) invert(1);
      }
      40% {
        transform: translate(8px, -10px) rotate(12deg);
        filter: hue-rotate(0deg);
      }
      45% {
        transform: translate(-6px, 12px) rotate(-8deg);
        filter: hue-rotate(180deg) brightness(1.5);
      }
      50% {
        transform: translate(14px, -6px) rotate(8deg);
        filter: hue-rotate(90deg) contrast(1.8);
      }
      55% {
        transform: translate(-10px, -14px) rotate(-10deg);
        filter: hue-rotate(270deg);
      }
      60% {
        transform: translate(6px, 10px) rotate(10deg);
        filter: hue-rotate(0deg) invert(0.3);
      }
      65% {
        transform: translate(-8px, 8px) rotate(-6deg);
        filter: hue-rotate(180deg);
      }
      70% {
        transform: translate(10px, -8px) rotate(6deg);
        filter: hue-rotate(90deg);
      }
      75% {
        transform: translate(-6px, -10px) rotate(-4deg);
        filter: hue-rotate(270deg);
      }
      80% {
        transform: translate(8px, 6px) rotate(4deg);
        filter: hue-rotate(0deg);
      }
      85% {
        transform: translate(-4px, 4px) rotate(-2deg);
        filter: hue-rotate(180deg);
      }
      90% {
        transform: translate(4px, -4px) rotate(2deg);
        filter: hue-rotate(90deg);
      }
      95% {
        transform: translate(-2px, 2px) rotate(-1deg);
        filter: hue-rotate(0deg);
      }
    }

    #surprise {
      margin-top: 32px;
      font-size: clamp(1.1em, 2.5vw, 1.29em);
      color: #b2b2b2;
      text-align: center;
      min-height: 30px;
      transition: all 0.3s ease;
      font-weight: bold;
      text-shadow: 0 0 10px rgba(178, 178, 178, 0.5);
    }

    /* Counter display */
    #counter-display {
      margin-top: 20px;
      font-size: clamp(2em, 5vw, 3em);
      color: #fff445;
      font-weight: 900;
      text-shadow: 0 0 20px rgba(255, 244, 69, 0.8);
      min-height: 50px;
      display: none;
    }

    #counter-display.active {
      display: block;
      animation: counterPulse 0.3s ease;
    }

    @keyframes counterPulse {
      0%, 100% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.2);
      }
    }

    /* Challenge phase styles */
    .challenge-phase #forbid {
      background: linear-gradient(135deg, #fff445 0%, #ffeb3b 100%);
      color: #181818;
      box-shadow: 0 20px 60px rgba(255, 244, 69, 0.5);
    }

    .challenge-phase #btn {
      background: linear-gradient(135deg, #f45c63 0%, #ff6b7a 100%);
      color: #fff;
      animation: challengePulse 0.5s infinite;
    }

    @keyframes challengePulse {
      0%, 100% {
        transform: scale(1);
        box-shadow: 0 6px 48px rgba(244, 92, 99, 0.5);
      }
      50% {
        transform: scale(1.05);
        box-shadow: 0 8px 60px rgba(244, 92, 99, 0.7);
      }
    }

    /* Side buttons */
    .side-button {
      position: fixed;
      padding: 1em 2em;
      background: linear-gradient(135deg, #fff445 0%, #ffeb3b 100%);
      color: #181818;
      border: none;
      border-radius: 999px;
      font-size: 1.1em;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 10px 40px rgba(255, 244, 69, 0.5);
      z-index: 1000;
      animation: sideButtonPulse 1s infinite;
      display: none;
    }

    .side-button.active {
      display: block;
    }

    .side-button.left {
      left: 20px;
      top: 50%;
      transform: translateY(-50%);
    }

    .side-button.bottom-right {
      bottom: 20px;
      right: 20px;
    }

    @keyframes sideButtonPulse {
      0%, 100% {
        transform: translateY(-50%) scale(1);
        box-shadow: 0 10px 40px rgba(255, 244, 69, 0.5);
      }
      50% {
        transform: translateY(-50%) scale(1.1);
        box-shadow: 0 15px 50px rgba(255, 244, 69, 0.7);
      }
    }

    .side-button.bottom-right {
      animation: bottomRightPulse 1s infinite;
    }

    @keyframes bottomRightPulse {
      0%, 100% {
        transform: scale(1);
        box-shadow: 0 10px 40px rgba(255, 244, 69, 0.5);
      }
      50% {
        transform: scale(1.1);
        box-shadow: 0 15px 50px rgba(255, 244, 69, 0.7);
      }
    }

    /* Flip flop game */
    .flipflop-game {
      display: none;
      width: 100%;
      height: 100vh;
      position: fixed;
      top: 0;
      left: 0;
      background: #181818;
      z-index: 2000;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 40px;
    }

    .flipflop-game.active {
      display: flex;
    }

    .hearts-container {
      position: absolute;
      top: 30px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 20px;
      font-size: 2em;
      z-index: 2001;
    }

    .heart {
      cursor: pointer;
      transition: transform 0.2s;
      filter: drop-shadow(0 0 10px rgba(255, 244, 69, 0.5));
    }

    .heart:hover {
      transform: scale(1.2);
    }

    .heart.middle {
      animation: heartPulse 1s infinite;
    }

    @keyframes heartPulse {
      0%, 100% {
        transform: scale(1);
        filter: drop-shadow(0 0 10px rgba(255, 244, 69, 0.5));
      }
      50% {
        transform: scale(1.3);
        filter: drop-shadow(0 0 20px rgba(255, 244, 69, 0.8));
      }
    }

    .flipflop-title {
      font-size: 2.5em;
      color: #fff445;
      margin-bottom: 40px;
      text-align: center;
      text-shadow: 0 0 20px rgba(255, 244, 69, 0.5);
    }

    .flipflop-grid {
      display: grid;
      grid-template-columns: repeat(4, 120px);
      grid-template-rows: repeat(4, 120px);
      gap: 15px;
      margin-bottom: 30px;
    }

    .flipflop-card {
      width: 120px;
      height: 120px;
      background: linear-gradient(135deg, #333 0%, #222 100%);
      border-radius: 15px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 3em;
      transition: transform 0.3s, background 0.3s;
      border: 2px solid #fff445;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
    }

    .flipflop-card:hover {
      transform: scale(1.05);
    }

    .flipflop-card.flipped {
      background: linear-gradient(135deg, #fff445 0%, #ffeb3b 100%);
      transform: rotateY(180deg);
    }

    .flipflop-card.matched {
      background: linear-gradient(135deg, #3cba54 0%, #2e9742 100%);
      cursor: default;
    }

    /* Loading screen */
    .loading-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #181818;
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 3000;
      color: #fff445;
      font-size: 2em;
    }

    .loading-screen.active {
      display: flex;
    }

    .loading-spinner {
      width: 60px;
      height: 60px;
      border: 4px solid rgba(255, 244, 69, 0.3);
      border-top-color: #fff445;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-bottom: 20px;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    #surprise.glitch-text {
      animation: textGlitch 0.08s infinite;
      color: #ff0000;
      text-shadow: 
        0 0 10px #ff0000,
        0 0 20px #ff0000,
        0 0 30px #ff0000,
        -3px 0 0 #ff0000,
        3px 0 0 #00ffff,
        -6px 0 0 #ff00ff,
        6px 0 0 #00ff00;
      font-weight: 900;
      letter-spacing: 2px;
      position: relative;
    }

    #surprise.glitch-text::before,
    #surprise.glitch-text::after {
      content: attr(data-text);
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }

    #surprise.glitch-text::before {
      animation: textGlitch-red 0.15s infinite;
      color: #ff0000;
      clip-path: inset(30% 0 70% 0);
      transform: translate(-4px, 0);
    }

    #surprise.glitch-text::after {
      animation: textGlitch-blue 0.15s infinite;
      color: #00ffff;
      clip-path: inset(70% 0 30% 0);
      transform: translate(4px, 0);
    }

    @keyframes textGlitch {
      0%, 100% {
        transform: translate(0);
        filter: hue-rotate(0deg);
      }
      10% {
        transform: translate(-5px, 3px);
        filter: hue-rotate(90deg) brightness(3);
      }
      20% {
        transform: translate(5px, -3px);
        filter: hue-rotate(180deg) contrast(3) invert(1);
      }
      30% {
        transform: translate(-3px, 5px);
        filter: hue-rotate(270deg) saturate(3);
      }
      40% {
        transform: translate(3px, -5px);
        filter: hue-rotate(0deg) invert(1) brightness(2);
      }
      50% {
        transform: translate(-6px, 0);
        filter: hue-rotate(180deg) contrast(4);
      }
      60% {
        transform: translate(6px, 0);
        filter: hue-rotate(90deg) invert(0.5);
      }
      70% {
        transform: translate(-4px, 4px);
        filter: hue-rotate(270deg) brightness(2.5);
      }
      80% {
        transform: translate(4px, -4px);
        filter: hue-rotate(360deg) invert(1);
      }
      90% {
        transform: translate(-2px, 2px);
        filter: hue-rotate(45deg) contrast(3);
      }
    }

    @keyframes textGlitch-red {
      0%, 100% {
        transform: translate(0);
      }
      50% {
        transform: translate(-8px, 4px);
      }
    }

    @keyframes textGlitch-blue {
      0%, 100% {
        transform: translate(0);
      }
      50% {
        transform: translate(8px, -4px);
      }
    }

    /* Smooth background transitions */
    #center::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at var(--mouse-x, 50%) var(--mouse-y, 50%), 
                                  rgba(244, 92, 99, 0.1) 0%, 
                                  transparent 50%);
      opacity: 0;
      transition: opacity 0.5s ease;
      pointer-events: none;
      z-index: 0;
    }

    #center:hover::before {
      opacity: 1;
    }

    /* Particle effect */
    .particle {
      position: absolute;
      width: 4px;
      height: 4px;
      background: #fff445;
      border-radius: 50%;
      pointer-events: none;
      animation: particleFloat 2s ease-out forwards;
      z-index: 0;
    }

    @keyframes particleFloat {
      0% {
        opacity: 1;
        transform: translate(0, 0) scale(1);
      }
      100% {
        opacity: 0;
        transform: translate(var(--tx, 0), var(--ty, -100px)) scale(0);
      }
    }

    /* Mobile optimizations */
    @media (max-width: 768px) {
      #forbid {
        padding: 20px 30px;
        margin-bottom: 40px;
        font-size: 1.5em;
      }

      #btn {
        padding: 1.2em 2em;
        font-size: 1.2em;
      }

      #surprise {
        font-size: 1em;
        padding: 0 20px;
      }
    }

    /* Smooth cursor trail effect */
    .cursor-trail {
      position: fixed;
      width: 8px;
      height: 8px;
      background: rgba(255, 244, 69, 0.6);
      border-radius: 50%;
      pointer-events: none;
      z-index: 9999;
      animation: trailFade 0.5s ease-out forwards;
    }

    @keyframes trailFade {
      0% {
        opacity: 1;
        transform: scale(1);
      }
      100% {
        opacity: 0;
        transform: scale(0);
      }
    }

    /* Screen flicker effect */
    .screen-flicker {
      animation: flicker 0.15s infinite;
    }

    @keyframes flicker {
      0%, 100% {
        opacity: 1;
        filter: brightness(1);
      }
      10% {
        opacity: 0.95;
        filter: brightness(0.8);
      }
      20% {
        opacity: 1;
        filter: brightness(1.2);
      }
      30% {
        opacity: 0.9;
        filter: brightness(0.7);
      }
      40% {
        opacity: 1;
        filter: brightness(1.3);
      }
      50% {
        opacity: 0.85;
        filter: brightness(0.6);
      }
      60% {
        opacity: 1;
        filter: brightness(1.4);
      }
      70% {
        opacity: 0.9;
        filter: brightness(0.5);
      }
      80% {
        opacity: 1;
        filter: brightness(1.5);
      }
      90% {
        opacity: 0.95;
        filter: brightness(0.9);
      }
    }

    /* Static noise overlay */
    .static-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0,0,0,0.03) 2px, rgba(0,0,0,0.03) 4px),
        repeating-linear-gradient(90deg, transparent, transparent 2px, rgba(255,255,255,0.03) 2px, rgba(255,255,255,0.03) 4px);
      pointer-events: none;
      z-index: 10000;
      opacity: 0;
      animation: staticFlicker 0.1s infinite;
      mix-blend-mode: overlay;
    }

    .static-overlay.active {
      opacity: 0.4;
    }

    @keyframes staticFlicker {
      0%, 100% {
        opacity: 0.2;
        transform: translate(0);
      }
      25% {
        opacity: 0.4;
        transform: translate(-1px, 1px);
      }
      50% {
        opacity: 0.3;
        transform: translate(1px, -1px);
      }
      75% {
        opacity: 0.5;
        transform: translate(-1px, -1px);
      }
    }

    /* Error screen effect */
    .error-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #000;
      color: #ff0000;
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 20000;
      font-family: 'Courier New', monospace;
      font-size: 1.2em;
      line-height: 1.6;
      padding: 40px;
      text-align: center;
    }

    .error-screen.active {
      display: flex;
      animation: errorFlicker 0.2s infinite;
    }

    @keyframes errorFlicker {
      0%, 100% {
        opacity: 1;
        filter: brightness(1);
      }
      50% {
        opacity: 0.8;
        filter: brightness(1.5);
      }
    }

    .error-code {
      font-size: 3em;
      font-weight: bold;
      margin-bottom: 20px;
      text-shadow: 0 0 20px #ff0000;
      animation: errorGlitch 0.15s infinite;
    }

    @keyframes errorGlitch {
      0%, 100% {
        transform: translate(0);
        color: #ff0000;
      }
      25% {
        transform: translate(-3px, 2px);
        color: #00ffff;
      }
      50% {
        transform: translate(3px, -2px);
        color: #ff00ff;
      }
      75% {
        transform: translate(-2px, -2px);
        color: #ffff00;
      }
    }

    /* Scanline effect */
    .scanlines {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: repeating-linear-gradient(
        0deg,
        rgba(0, 0, 0, 0.1),
        rgba(0, 0, 0, 0.1) 1px,
        transparent 1px,
        transparent 2px
      );
      pointer-events: none;
      z-index: 15000;
      opacity: 0;
      animation: scanlineMove 0.1s linear infinite;
    }

    .scanlines.active {
      opacity: 0.3;
    }

    @keyframes scanlineMove {
      0% {
        transform: translateY(0);
      }
      100% {
        transform: translateY(4px);
      }
    }
  </style>
</head>
<body>
  <div id="center">
    <div id="forbid">Do NOT press the button below.</div>
    <button id="btn">Don't touch me!</button>
    <div id="surprise"></div>
    <div id="counter-display"></div>
    <audio id="beep" src="https://cdn.pixabay.com/audio/2022/11/16/audio_12a3f159da.mp3" preload="auto"></audio>
  </div>
  
  <!-- Side buttons -->
  <button id="left-button" class="side-button left">Click Me</button>
  <button id="bottom-right-button" class="side-button bottom-right">Click Me</button>
  
  <!-- Flip flop game -->
  <div id="flipflop-game" class="flipflop-game">
    <div class="hearts-container">
      <span class="heart">‚ù§Ô∏è</span>
      <span class="heart middle" id="middle-heart">‚ù§Ô∏è</span>
      <span class="heart">‚ù§Ô∏è</span>
    </div>
    <div class="flipflop-title">Flip Flop Game</div>
    <div class="flipflop-grid" id="flipflop-grid"></div>
    <div id="flipflop-message" style="color: #fff445; font-size: 1.5em; text-align: center;"></div>
  </div>
  
  <!-- Loading screen -->
  <div id="loading-screen" class="loading-screen">
    <div class="loading-spinner"></div>
    <div>Loading...</div>
  </div>
  
  <!-- Glitch overlay effects -->
  <div id="static-overlay" class="static-overlay"></div>
  <div id="scanlines" class="scanlines"></div>
  <div id="error-screen" class="error-screen"></div>

  <script>
    const forbids = [
      { text: "Do NOT press the button below.", action: "button" },
      { text: "NEVER click the background.", action: "bg" },
      { text: "Don't move your mouse here.", action: "area" },
      { text: "Don't double click the DANGER text.", action: "text" },
      { text: "Don't tap the arrow.", action: "arrow" },
      { text: "Don't touch the GLITCH face.", action: "smile" }
    ];

    const surprises = [
      "!!! SYSTEM BORKED !!!",
      "You unleashed the GL1TCH.",
      "ERROR #e991: Oops.",
      "The background is alive.",
      "Reality is warping...",
      "RUN.",
      "DON'T LOOK AWAY...",
      "It can't be undone.",
      "INTRUDER DETECTED!",
      "The simulation collapsed.",
      "CHAOS MODE ACTIVATED",
      "BREAKING REALITY...",
      "GLITCH IN THE MATRIX",
      "SYSTEM OVERRIDE",
      "WARNING: ANOMALY DETECTED"
    ];

    let idx = 0;
    const center = document.getElementById("center");
    const forbid = document.getElementById("forbid");
    const btn = document.getElementById("btn");
    const surprise = document.getElementById("surprise");
    const counterDisplay = document.getElementById("counter-display");
    let dodgeActive = false;
    let particles = [];
    let challengePhase = false;
    let clickCount = 0;
    const TARGET_CLICKS = 100;
    let phaseAfterFooled = 0; // 0 = left button, 1 = bottom right button, 2 = flip flop game
    let flipFlopCards = [];
    let flippedCards = [];
    let matchedPairs = 0;
    const FLIPFLOP_PAIRS = 8;

    // Smooth mouse tracking for background effect
    center.addEventListener('mousemove', (e) => {
      const rect = center.getBoundingClientRect();
      const x = ((e.clientX - rect.left) / rect.width) * 100;
      const y = ((e.clientY - rect.top) / rect.height) * 100;
      center.style.setProperty('--mouse-x', x + '%');
      center.style.setProperty('--mouse-y', y + '%');
    });

    // Cursor trail effect
    document.addEventListener('mousemove', (e) => {
      if (Math.random() > 0.7) {
        const trail = document.createElement('div');
        trail.className = 'cursor-trail';
        trail.style.left = e.clientX - 4 + 'px';
        trail.style.top = e.clientY - 4 + 'px';
        document.body.appendChild(trail);
        setTimeout(() => trail.remove(), 500);
      }
    });

    function createParticles(x, y) {
      for (let i = 0; i < 15; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.style.left = x + 'px';
        particle.style.top = y + 'px';
        const angle = (Math.PI * 2 * i) / 15;
        const distance = 50 + Math.random() * 50;
        particle.style.setProperty('--tx', Math.cos(angle) * distance + 'px');
        particle.style.setProperty('--ty', Math.sin(angle) * distance + 'px');
        center.appendChild(particle);
        setTimeout(() => particle.remove(), 2000);
      }
    }

    function nextForbid() {
      idx = (idx + 1) % forbids.length;
      forbid.innerText = forbids[idx].text;
      forbid.setAttribute('data-text', forbid.innerText);
      btn.innerText = "Don't touch me!";
      btn.style.background = "linear-gradient(135deg, #fff445 0%, #ffeb3b 100%)";
      btn.className = '';
      btn.style.left = "0px";
      btn.style.top = "0px";
      btn.style.position = "relative";
      btn.style.transform = "";
      btn.style.filter = "";
      dodgeActive = false;
      center.style.background = "#181818";
      center.style.filter = "";
      surprise.textContent = "";
      surprise.className = "";
      counterDisplay.textContent = "";
      counterDisplay.classList.remove('active');
      document.body.className = "";
      document.body.style.filter = "";
      forbid.className = "";
      center.className = "";
      center.classList.remove('challenge-phase');
      document.body.style.transform = "";
      document.body.style.transition = "";
      document.body.style.background = "#181818";
      document.body.classList.remove('screen-flicker');
      challengePhase = false;
      clickCount = 0;
      
      // Remove overlay effects
      const staticOverlay = document.getElementById('static-overlay');
      const scanlines = document.getElementById('scanlines');
      const errorScreen = document.getElementById('error-screen');
      if (staticOverlay) staticOverlay.classList.remove('active');
      if (scanlines) scanlines.classList.remove('active');
      if (errorScreen) errorScreen.classList.remove('active');

      if (forbids[idx].action == "smile") {
        btn.innerText = "üëª";
        btn.style.background = "linear-gradient(135deg, #baf7ff 0%, #87ceeb 100%)";
      }

      if (forbids[idx].action == "text") {
        forbid.innerText = "DANGER: Don't double click!";
        forbid.setAttribute('data-text', forbid.innerText);
      }

      if (forbids[idx].action == "arrow") {
        btn.innerHTML = "‚Æû";
        btn.style.background = "linear-gradient(135deg, #f9e7bb 0%, #f5d5a3 100%)";
        dodgeActive = true;
        btn.style.position = 'absolute';
        btn.style.left = "50%";
        btn.style.top = "60%";
        btn.style.transform = "translate(-50%, -50%)";
      }
    }

    function doSurprise() {
      const rect = btn.getBoundingClientRect();
      createParticles(rect.left + rect.width / 2, rect.top + rect.height / 2);

      let s = surprises[Math.floor(Math.random() * surprises.length)];
      surprise.textContent = s;
      surprise.setAttribute('data-text', s);
      surprise.className = "glitch-text";

      let bork_fx = Math.floor(Math.random() * 8);

      switch (bork_fx) {
        case 0:
          center.className = "shake screen-flicker";
          forbid.className = "glitchit";
          btn.className = "borked";
          document.body.style.filter = "hue-rotate(180deg) contrast(2)";
          break;

        case 1:
          btn.className = "glitchit borked";
          forbid.className = "borked glitchit";
          center.style.background = "#" + ((1 << 24) * Math.random() | 0).toString(16);
          center.style.transition = "background 0.1s ease";
          center.className = "screen-flicker";
          document.body.className = "reverse";
          break;

        case 2:
          document.body.className = "reverse screen-flicker";
          btn.style.transform = "rotate(45deg) scale(1.7)";
          btn.style.transition = "transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1)";
          btn.className = "borked glitchit";
          forbid.className = "glitchit";
          center.className = "shake";
          break;

        case 3:
          forbid.className = "glitchit";
          btn.innerText = "MAKE IT STOP!";
          btn.style.background = "linear-gradient(135deg, #ff0000 0%, #ff3333 100%)";
          btn.className = "borked glitchit";
          center.className = "shake screen-flicker";
          document.body.style.filter = "invert(1) hue-rotate(90deg)";
          break;

        case 4:
          forbid.innerText = "‚ñàDŒ¶ NŒ¶T OŒ≤EY‚ñà";
          forbid.setAttribute('data-text', forbid.innerText);
          btn.innerText = "üëÄ";
          btn.className = "borked glitchit";
          center.style.filter = "hue-rotate(180deg) invert(1) contrast(3) brightness(2)";
          center.style.transition = "filter 0.1s ease";
          center.className = "screen-flicker";
          document.body.className = "reverse";
          break;

        case 5:
          center.className = "shake screen-flicker";
          btn.innerText = "ü¶¥üêç?!";
          btn.className = "borked glitchit";
          forbid.innerText = "Don't trust your senses!";
          forbid.setAttribute('data-text', forbid.innerText);
          forbid.className = "glitchit";
          document.body.style.filter = "hue-rotate(270deg) contrast(2.5)";
          break;

        case 6:
          document.body.style.background = "#000";
          document.body.style.transition = "background 0.1s ease";
          document.body.className = "reverse screen-flicker";
          btn.style.transform = "scale(2.5) rotate(180deg)";
          btn.style.transition = "transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)";
          btn.className = "borked glitchit";
          forbid.className = "glitchit";
          center.className = "shake";
          break;

        case 7:
          center.style.filter = "hue-rotate(180deg) saturate(3) contrast(3) brightness(2)";
          center.style.transition = "filter 0.1s ease";
          center.className = "screen-flicker shake";
          btn.className = "glitchit borked";
          forbid.className = "borked glitchit";
          document.body.className = "reverse";
          document.body.style.filter = "invert(1) hue-rotate(90deg) contrast(2)";
          break;
      }

      // Play sound with smooth volume fade - loop it for longer
      const beep = document.getElementById('beep');
      beep.volume = 0.5;
      beep.currentTime = 0;
      beep.loop = true;
      beep.play().catch(e => console.log('Audio play failed:', e));

      // Add screen flicker to body
      document.body.classList.add('screen-flicker');

      // Multiple intense color flashes
      let flashCount = 0;
      const flashInterval = setInterval(() => {
        if (flashCount < 8) {
          document.body.style.background = "#" + ((1 << 24) * Math.random() | 0).toString(16);
          document.body.style.transition = "background 0.1s ease";
          flashCount++;
        } else {
          clearInterval(flashInterval);
        }
      }, 200);

      // Stop audio after glitch ends
      setTimeout(() => {
        beep.loop = false;
        beep.pause();
        document.body.classList.remove('screen-flicker');
        clearInterval(flashInterval);
      }, 3500);

      // Add scary effects
      const staticOverlay = document.getElementById('static-overlay');
      const scanlines = document.getElementById('scanlines');
      const errorScreen = document.getElementById('error-screen');
      
      if (staticOverlay) staticOverlay.classList.add('active');
      if (scanlines) scanlines.classList.add('active');
      
      // Randomly show error screen
      if (Math.random() < 0.4 && errorScreen) {
        errorScreen.classList.add('active');
        const errorCodes = [
          "ERROR 0xDEADBEEF",
          "SYSTEM CORRUPTION",
          "MEMORY LEAK DETECTED",
          "KERNEL PANIC",
          "FATAL EXCEPTION",
          "STACK OVERFLOW",
          "NULL POINTER",
          "SEGMENTATION FAULT"
        ];
        const errorMessages = [
          "CRITICAL SYSTEM FAILURE",
          "UNABLE TO RECOVER",
          "DATA INTEGRITY COMPROMISED",
          "SYSTEM UNSTABLE",
          "IMMINENT SHUTDOWN",
          "CORRUPTION DETECTED",
          "FATAL ERROR",
          "SYSTEM BREACH"
        ];
        const code = errorCodes[Math.floor(Math.random() * errorCodes.length)];
        const msg = errorMessages[Math.floor(Math.random() * errorMessages.length)];
        errorScreen.innerHTML = `
          <div class="error-code">${code}</div>
          <div>${msg}</div>
          <div style="margin-top: 20px; font-size: 0.8em; color: #666;">Press any key to continue...</div>
        `;
        
        setTimeout(() => {
          errorScreen.classList.remove('active');
        }, 2500);
      }

      // Extended glitch duration - 3.5 seconds instead of 0.3
      setTimeout(() => {
        surprise.className = "";
        if (staticOverlay) staticOverlay.classList.remove('active');
        if (scanlines) scanlines.classList.remove('active');
        
        // Start challenge phase after glitch
        startChallengePhase();
      }, 3500);
    }

    function startChallengePhase() {
      challengePhase = true;
      clickCount = 0;
      center.classList.add('challenge-phase');
      forbid.innerText = "Ok fine, you want to touch it right?";
      forbid.setAttribute('data-text', forbid.innerText);
      btn.innerText = "Touch it";
      btn.className = '';
      btn.style.background = "linear-gradient(135deg, #f45c63 0%, #ff6b7a 100%)";
      btn.style.color = "#fff";
      btn.style.transform = "";
      btn.style.left = "0px";
      btn.style.top = "0px";
      btn.style.position = "relative";
      counterDisplay.classList.add('active');
      counterDisplay.textContent = `0 / ${TARGET_CLICKS}`;
      surprise.textContent = "";
      surprise.className = "";
      
      // Reset all glitch effects
      center.className = "challenge-phase";
      document.body.className = "";
      document.body.style.filter = "";
      document.body.style.background = "#181818";
      center.style.filter = "";
      center.style.background = "#181818";
    }

    function handleChallengeClick() {
      if (!challengePhase) return;
      
      clickCount++;
      counterDisplay.textContent = `${clickCount} / ${TARGET_CLICKS}`;
      
      // Visual feedback on each click
      btn.style.transform = "scale(0.95)";
      setTimeout(() => {
        btn.style.transform = "scale(1)";
      }, 100);
      
      // Add particle effect on click
      const rect = btn.getBoundingClientRect();
      createParticles(rect.left + rect.width / 2, rect.top + rect.height / 2);
      
      // Check if reached target
      if (clickCount >= TARGET_CLICKS) {
        challengePhase = false;
        center.classList.remove('challenge-phase');
        counterDisplay.classList.remove('active');
        counterDisplay.textContent = "";
        forbid.innerText = "I FOOLED YOU";
        forbid.setAttribute('data-text', forbid.innerText);
        forbid.className = "glitchit";
        btn.innerText = "üòà";
        btn.style.background = "linear-gradient(135deg, #ff0000 0%, #ff3333 100%)";
        btn.className = "borked glitchit";
        center.className = "shake screen-flicker";
        surprise.textContent = "You actually clicked 100 times!";
        surprise.setAttribute('data-text', surprise.textContent);
        surprise.className = "glitch-text";
        
        // Add intense glitch effects
        document.body.classList.add('screen-flicker');
        const staticOverlay = document.getElementById('static-overlay');
        const scanlines = document.getElementById('scanlines');
        if (staticOverlay) staticOverlay.classList.add('active');
        if (scanlines) scanlines.classList.add('active');
        
        // Play sound
        const beep = document.getElementById('beep');
        beep.volume = 0.6;
        beep.currentTime = 0;
        beep.loop = true;
        beep.play().catch(e => console.log('Audio play failed:', e));
        
        // Reset after 4 seconds
        setTimeout(() => {
          beep.loop = false;
          beep.pause();
          document.body.classList.remove('screen-flicker');
          if (staticOverlay) staticOverlay.classList.remove('active');
          if (scanlines) scanlines.classList.remove('active');
          nextForbid();
        }, 4000);
      }
    }

    btn.onclick = function() {
      if (challengePhase) {
        handleChallengeClick();
        return;
      }
      
      if (forbids[idx].action == "button" || forbids[idx].action == "smile") {
        doSurprise();
      }
    };

    center.onclick = function(e) {
      if (forbids[idx].action == "bg" && e.target != btn && e.target != forbid) {
        doSurprise();
      }
    };

    forbid.ondblclick = function() {
      if (forbids[idx].action == "text") {
        doSurprise();
      }
    };

    center.onmousemove = function(e) {
      if (forbids[idx].action == "area" && e.target != btn && e.target != forbid) {
        doSurprise();
      }
    };

    // Enhanced dodge logic for arrow with smooth transitions
    btn.onmouseenter = function(e) {
      if (dodgeActive) {
        const parentRect = center.getBoundingClientRect();
        const btnRect = btn.getBoundingClientRect();
        const maxX = parentRect.width - btnRect.width;
        const maxY = parentRect.height - btnRect.height - 100;
        const minY = 100;

        let randX = Math.random() * maxX;
        let randY = minY + Math.random() * (maxY - minY);

        // Ensure button stays within bounds
        randX = Math.max(0, Math.min(randX, maxX));
        randY = Math.max(minY, Math.min(randY, maxY));

        btn.style.left = Math.floor(randX) + "px";
        btn.style.top = Math.floor(randY) + "px";
        btn.style.transform = "translate(0, 0)";
      }
    };

    // Touch dodge with haptic feedback
    btn.ontouchstart = function(e) {
      if (dodgeActive) {
        const parentRect = center.getBoundingClientRect();
        const btnRect = btn.getBoundingClientRect();
        const maxX = parentRect.width - btnRect.width;
        const maxY = parentRect.height - btnRect.height - 100;
        const minY = 100;

        let randX = Math.random() * maxX;
        let randY = minY + Math.random() * (maxY - minY);

        randX = Math.max(0, Math.min(randX, maxX));
        randY = Math.max(minY, Math.min(randY, maxY));

        btn.style.left = Math.floor(randX) + "px";
        btn.style.top = Math.floor(randY) + "px";
        btn.style.transform = "translate(0, 0)";

        // Haptic feedback if available
        if (navigator.vibrate) {
          navigator.vibrate(50);
        }

        e.preventDefault();
      }
    };

    // Initialize
    nextForbid();

    // Prevent context menu on long press
    document.addEventListener('contextmenu', (e) => {
      if (dodgeActive && e.target === btn) {
        e.preventDefault();
      }
    });
  </script>
</body>
</html>

